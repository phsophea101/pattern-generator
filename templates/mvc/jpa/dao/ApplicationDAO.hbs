package {{package}}.core.dao;

import com.wingmoney.core.util.StringUtil;
import {{package}}.core.entity.{{titleCase service}}Entity;
import org.springframework.data.jpa.domain.Specification;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
import org.springframework.stereotype.Repository;

@Repository
public interface {{titleCase service}}DAO extends JpaRepository<{{titleCase service}}Entity, String>, JpaSpecificationExecutor<{{titleCase service}}Entity> {
    static Specification<{{titleCase service}}Entity> idContains(String keywords) {
         if (StringUtil.isEmpty(keywords)) {
            return ({{lowerCase service}}, cq, cb) -> cb.like({{lowerCase service}}.get("id"), "%" + StringUtil.EMPTY + "%");
        }
        return ({{lowerCase service}}, cq, cb) -> cb.or( cb.like(cb.lower({{lowerCase service}}.get("id")), "%" + keywords.toLowerCase() + "%"));
    }
}
